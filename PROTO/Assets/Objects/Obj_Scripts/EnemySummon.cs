using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class EnemySummon : MonoBehaviour
{

    public GameObject[] enemies;
    private Obj_State obj_Data;
    private bool can_Attack = true;

    private void Start()
    {
        obj_Data = GetComponent<Obj_State>();
    }

    // Update is called once per frame
    void Update()
    {
        if (can_Attack)
        {
            summon();
            StartCoroutine(AttackCooldown(obj_Data.melee_Cooldown));
        }
    }

    void summon()
    {
        int enemyChoice = Random.Range(0, enemies.Length);
        Instantiate(enemies[enemyChoice], transform.position, Quaternion.identity);
    }

    IEnumerator AttackCooldown(float length)
    {
        yield return new WaitForSeconds(length);
        can_Attack = true;
    }
}
